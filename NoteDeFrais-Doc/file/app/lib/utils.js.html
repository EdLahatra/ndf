<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">app/lib/utils.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/index.js~Index.html">Index</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/DepenseCommuneNavBar.js~DepenseCommuneNavBar.html">DepenseCommuneNavBar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/NavBar.js~NavBar.html">NavBar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/datepicker-field-factory.js~DatePicker.html">DatePicker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/datepicker.js~DatePicker.html">DatePicker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/distance.js~Distance.html">Distance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/icon-field-factory.js~IconFieldFactory.html">IconFieldFactory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/image-field-factory.js~ImageFieldFactory.html">ImageFieldFactory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/list-edit-with-menu.js~ListEditWithMenu.html">ListEditWithMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/list-edit.js~ListEdit.html">ListEdit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/place-autocomplete.js~PlaceAutocomplete.html">PlaceAutocomplete</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/realm-form.js~RealmForm.html">RealmForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/select-field-factory.js~SelectFieldFactory.html">SelectFieldFactory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/select.js~Select.html">Select</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/textbox-field-factory.js~Textbox.html">Textbox</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/components/valeursAnalytiques-autocomplete.js~PlaceAutocomplete.html">PlaceAutocomplete</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Component">Component</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">errors</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ApiServiceAccess">ApiServiceAccess</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">lib</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/lib/Logger.js~Logger.html">Logger</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createIconSet">createIconSet</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">routes</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/CategorieDepenseForm.js~CategorieDepenseForm.html">CategorieDepenseForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/CategorieDepenseListe.js~CategorieDepenseListe.html">CategorieDepenseListe</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/CategorieDepenseSelection.js~CategorieDepenseSelection.html">CategorieDepenseSelection</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/Chargement.js~Chargement.html">Chargement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/Connexion.js~Connexion.html">Connexion</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/DepenseCommuneHistoriqueListe.js~DepenseCommuneHistoriqueListe.html">DepenseCommuneHistoriqueListe</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/DepenseCommuneListe.js~DepenseCommuneListe.html">DepenseCommuneListe</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/DepenseForm.js~DepenseCommuneForm.html">DepenseCommuneForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/FichePersonnelleForm.js~FichePersonnelleForm.html">FichePersonnelleForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/IndemniteKilometriqueForm.js~IndemniteKilometriqueForm.html">IndemniteKilometriqueForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/Login.js~Login.html">Login</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/NoteDeFraisListe.js~NoteDeFraisListe.html">NoteDeFraisListe</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/Presentation.js~Presentation.html">Presentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/VehiculeForm.js~VehiculeForm.html">VehiculeForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/routes/VehiculeListe.js~VehiculeListe.html">VehiculeListe</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">schemas</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/AxeAnalytique.js~AxeAnalytique.html">AxeAnalytique</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/BaremeKilometrique.js~BaremeKilometrique.html">BaremeKilometrique</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/CategorieDepense.js~CategorieDepense.html">CategorieDepense</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/CompteSecure.js~CompteSecure.html">CompteSecure</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/Configuration.js~Configuration.html">Configuration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/Depense.js~Depense.html">Depense</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/FichePersonnelle.js~FichePersonnelle.html">FichePersonnelle</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/Identifiant.js~Identifiant.html">Identifiant</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/IndemniteKilometrique.js~IndemniteKilometrique.html">IndemniteKilometrique</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/Justificatif.js~Justificatif.html">Justificatif</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/KilometreAnnuel.js~KilometreAnnuel.html">KilometreAnnuel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/NoteDeFrais.js~NoteDeFrais.html">NoteDeFrais</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/Regulation.js~Regulation.html">Regulation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/Seuil.js~Seuil.html">Seuil</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/ValeurAnalytique.js~ValeurAnalytique.html">ValeurAnalytique</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/schemas/Vehicule.js~Vehicule.html">Vehicule</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TYPES">TYPES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-STATUTS">STATUTS</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">services</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/ApiService.js~ApiService.html">ApiService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/AxeAnalytiqueService.js~AxeAnalytiqueService.html">AxeAnalytiqueService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/BaremeKilometriqueService.js~BaremeKilometriqueService.html">BaremeKilometriqueService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/CategorieDepenseService.js~CategorieDepenseService.html">CategorieDepenseService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/CompteSecureService.js~CompteSecureService.html">CompteSecureService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/CompteService.js~CompteService.html">CompteService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/ConfigurationService.js~ConfigurationService.html">ConfigurationService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/DepenseService.js~DepenseService.html">DepenseService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/EntityService.js~EntityService.html">EntityService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/FichePersonnelleService.js~FichePersonnelleService.html">FichePersonnelleService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/IndemniteKilometriqueService.js~IndemniteKilometriqueService.html">IndemniteKilometriqueService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/JustificatifService.js~JustificatifService.html">JustificatifService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/NoteDeFraisService.js~NoteDeFraisService.html">NoteDeFraisService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/RealmService.js~RealmService.html">RealmService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/ValeurAnalytiqueService.js~ValeurAnalytiqueService.html">ValeurAnalytiqueService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/VehiculeService.js~VehiculeService.html">VehiculeService</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">styles</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-style">style</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Style">Style</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">app/lib/utils.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import ImageFieldFactory from &apos;../components/image-field-factory&apos;;
import TextboxFieldFactory from &apos;../components/textbox-field-factory&apos;;
import DatepickerFieldFactory from &apos;../components/datepicker-field-factory&apos;;
import IconFieldFactory from &apos;../components/icon-field-factory&apos;;
import SelectFieldFactory from &apos;../components/select-field-factory&apos;;
import I18n from &apos;../i18n/translations&apos;;
import Checkbox from &apos;../components/checkbox&apos;;

const t = require(&apos;tcomb-form-native&apos;);
const Nil = t.Nil;

function toNull (value) {
  return (t.String.is(value) &amp;&amp; value.trim() === &apos;&apos;) || Nil.is(value) ? null : value;
}

/**
 * Function qui permet de parser un nombre
 * @param value
 * @returns {number}
 */
function parseNumber (value) {
  if (value &amp;&amp; value.replace) {
    value = value.replace(&apos;,&apos;, &apos;.&apos;);
  }
  const n = Math.round(parseFloat(value) * 100) / 100;
  const isNumeric = (value - n + 1) &gt;= 0;
  return isNumeric ? n : toNull(value);
}

/**
 * Tranformer &apos;tcomb-form-native&apos; permet de mieux g&#xE9;rer les float
 * @type {{format: fn, parse: fn}}
 */
const FloatTransformer = {
  format: value =&gt; {
    if (value &amp;&amp; value.replace) {
      value = value.replace(&apos;,&apos;, &apos;.&apos;);
    }
    if (Nil.is(value) || isNaN(value) || value == 0) {
      return &apos;&apos;;
    }
    const tmp = Math.round(parseFloat(value) * 100) / 100;
    if (tmp != value) {
      return String(tmp);
    }
    return String(value);
  },
  parse: parseNumber
};

/**
 * Classe utilitaire pour manipuler les objets en realm.
 */
export default {

  /**
   * Construit un uuid
   * @returns {string}
   */
  uuid () {

    return &apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;.replace(/[xy]/g, function (c) {
      const d = new Date().getTime();
      const r = (d + Math.random() * 16) % 16 | 0, v = c == &apos;x&apos; ? r : (r &amp; 0x3 | 0x8);
      return v.toString(16);
    });
  },

  /**
   * M&#xE9;thode qui v&#xE9;rifie la syntaxe d&apos;un email
   * @param email
   * @returns {boolean}
   */
  verifyEmail (email) {
    return /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(email);
  },

  _toFormFieldType(propertyValue, propertyConfig){

    const propertyType = typeof propertyValue === &apos;string&apos; ? propertyValue : propertyValue.type;

    if (propertyConfig) {

      if (propertyConfig &amp;&amp; propertyConfig.optional) {
        return t.maybe(this._toFormFieldType(propertyType, {
          enums: propertyConfig.enums,
          email: propertyConfig.email,
          optionType: propertyConfig.optionType
        }));
      }

      if (propertyConfig.enums) {
        return t.enums.of(propertyConfig.enums, propertyType);
      }

      if (propertyConfig.optionType) {
        return propertyType === &apos;list&apos; ? t.list(t.Object) : t.String;
      }

      if (propertyConfig.email &amp;&amp; propertyType === &apos;string&apos;) {
        return t.refinement(t.String, this.verifyEmail);
      }
    }

    if (propertyValue.optional) {
      return t.maybe(this._toFormFieldType(propertyType));
    }

    if (propertyType === &apos;list&apos;) {
      return t.list(propertyValue.objectType ? this._toFormFieldType(propertyValue.objectType) : t.Object);
    }

    if (propertyType === &apos;string&apos;) {
      return t.String;
    }
    if (propertyType === &apos;date&apos;) {
      return t.Date;
    }
    if (propertyType === &apos;bool&apos;) {
      return t.Boolean;
    }
    if (propertyType === &apos;int&apos; || propertyType === &apos;float&apos; || propertyType === &apos;double&apos;) {
      return t.Number;
    }

    return t.Object;

  },

  _toFieldType(propertyValue, propertyConfig){
    return this._toFormFieldType(propertyValue, propertyConfig);
  },

  /**
   * M&#xE9;thode qui va retourne la bonne configuration du formulaire &#xE0; partir du schema realm
   * @param schema
   * @param formType
   * @returns {Object}
   * @private
   */
  _getForm(schema, formType){
    if (schema._form) {
      const _form = schema._form[formType];
      return _form ? _form : schema._form;
    }
    throw new Error(&apos;No form configured in Schema&apos;);
  },

  /**
   * M&#xE9;thode qui construit un formulaire compatible &apos;tcomb-form-native&apos; &#xE0; partir d&apos;un schema realm.
   * @param schema
   * @param formType
   * @returns {*}
   */
  toForm({ schema, formType }){
    const _form = this._getForm(schema, formType);

    const properties = schema.properties;
    const primaryKey = schema.primaryKey;
    let form = {};

    for (const property in properties) {
      if (property === primaryKey) {
        form[property] = t.maybe(t.String);
      }
      else {
        const propertyConfig = _form[property];
        if (propertyConfig) {
          form[property] = this._toFieldType(properties[property], propertyConfig);
        }
      }

    }
    return t.struct(form);
  },

  /**
   * M&#xE9;thodes qui construit la liste des options d&apos;un formulaire &apos;tcomb-form-native&apos; en fonction d&apos;un schema realm.
   * @param config
   * @param onSubmitEditing
   * @param onFocus
   * @param onCallApi
   * @returns {{}}
   */
  toFieldsOptions(config, { onSubmitEditing, onFocus, onCallApi }){
    const schema = config.schema;
    const properties = schema.properties;
    const primaryKey = schema.primaryKey;
    const _form = this._getForm(schema, config.formType);

    const propertiesKeys = Object.keys(properties);

    let fieldsOptions = {};

    for (let i = 0; i &lt; propertiesKeys.length; i++) {

      const property = propertiesKeys[i];

      if (primaryKey === property) {
        fieldsOptions[property] = { hidden: true };
      }
      else {

        const propertyValue = properties[property];
        const _formConfig = _form[property];

        if (_formConfig) {

          fieldsOptions[property] = {
            placeholder: I18n.t(`${schema.name}.placeholder.${property}`)
          };

          if (onSubmitEditing) {
            fieldsOptions[property].onSubmitEditing = () =&gt; {
              onSubmitEditing(property)
            }
          }

          if (onFocus) {
            fieldsOptions[property].onFocus = () =&gt; {
              onFocus(property)
            }
          }

          if (property === &apos;justificatifs&apos;) {
            fieldsOptions[property].factory = ImageFieldFactory;
          }

          if (_formConfig.optionType) {

            const options = config[_formConfig.optionType];

            fieldsOptions[property].options = options;

            fieldsOptions[property].nullOption = {
              value: &apos;&apos;,
              text: I18n.t(`${schema.name}.placeholder.${_formConfig.optionType}`)
            };

          }

          if (_formConfig.hidden) {
            fieldsOptions[property].hidden = true;
          }

          if (_formConfig.enums) {

            const options = _formConfig.enums.slice(0, 150).map((key) =&gt; {
              return { value: key, text: I18n.t(`${schema.name}.${key}`) }
            });

            fieldsOptions[property].options = options;
            fieldsOptions[property].nullOption = {
              value: &apos;&apos;,
              text: I18n.t(`${schema.name}.placeholder.${property}`)
            };
          }

          if (_formConfig.email) {
            fieldsOptions[property].keyboardType = &apos;email-address&apos;;
          }

          if (_formConfig.phone) {
            fieldsOptions[property].keyboardType = &apos;phone-pad&apos;
          }

          if (_formConfig.editable === false) {
            fieldsOptions[property].editable = false;
          }

          if (_formConfig.api) {

            fieldsOptions[property].api = _formConfig.api;

            fieldsOptions[property].onCallApi = (params) =&gt; {
              onCallApi(property, _formConfig.api, params)
            };
            const options = config[_formConfig.api];
            if (options) {
              fieldsOptions[property].options = options;
              fieldsOptions[property].factory = TextboxFieldFactory;
            }
          }

          if (_formConfig.icon) {
            fieldsOptions[property].icon = _formConfig.icon;
          }

          if (_formConfig.iconEnd) {
            fieldsOptions[property].iconEnd = _formConfig.iconEnd;
          }

          if (propertyValue === &apos;bool&apos; || propertyValue.type === &apos;bool&apos;) {
            fieldsOptions[property].template = Checkbox;
          }

          if (propertyValue === &apos;date&apos; || propertyValue.type === &apos;date&apos;) {
            fieldsOptions[property].factory = DatepickerFieldFactory;
            fieldsOptions[property].format = I18n.t(&apos;dateFormat&apos;);
          }

          if (propertyValue === &apos;float&apos; || propertyValue.type === &apos;float&apos;) {
            fieldsOptions[property].transformer = FloatTransformer;
          }

          if (!_formConfig.enums &amp;&amp; (propertyValue === &apos;string&apos; || propertyValue.type === &apos;string&apos; || propertyValue === &apos;float&apos; ||
              propertyValue.type === &apos;float&apos; || propertyValue === &apos;int&apos; || propertyValue.type === &apos;int&apos;)) {
            fieldsOptions[property].factory = TextboxFieldFactory;
          }

          if (_formConfig.enums || _formConfig.optionType) {
            fieldsOptions[property].factory = _formConfig.type === &apos;icon&apos; ? IconFieldFactory : SelectFieldFactory;
          }

          if (_formConfig.isSecured) {
            fieldsOptions[property].secureTextEntry = true;
          }

          if (_formConfig.autoCorrect) {
            fieldsOptions[property].autoCorrect = _formConfig.autoCorrect;
          }
          else {
            fieldsOptions[property].autoCorrect = false;
          }

          if (_formConfig.autoCapitalize) {
            fieldsOptions[property].autoCapitalize = _formConfig.autoCapitalize;
          }
          else {
            fieldsOptions[property].autoCapitalize = &apos;sentences&apos;
          }

        }
      }

    }

    return fieldsOptions;

  }

};

module.exports.FloatTransformer = FloatTransformer;
module.exports.TextboxFieldFactory = TextboxFieldFactory;
module.exports.IconFieldFactory = IconFieldFactory;
module.exports.SelectFieldFactory = SelectFieldFactory;
module.exports.DatepickerFieldFactory = DatepickerFieldFactory;
module.exports.ImageFieldFactory = ImageFieldFactory;</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.8)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
